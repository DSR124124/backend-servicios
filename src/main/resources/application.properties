spring.application.name=backend-servicios
# ============================================
# CONFIGURACI�N DE BASE DE DATOS (PostgreSQL)
# ============================================
# Base de datos de servicios (diferente a la de gesti�n)
spring.datasource.url=jdbc:postgresql://154.38.186.149:5434/postgres
spring.datasource.username=postgres
spring.datasource.password=diego123A
spring.datasource.driver-class-name=org.postgresql.Driver

# JPA / Hibernate
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation=true

# ============================================
# CONFIGURACI�N JWT
# ============================================
# IMPORTANTE: DEBE SER LA MISMA SECRET KEY del Backend de Gesti�n
jwt.secret=Y2Y4ZjE2NzM5YjQ4ZTNhMjVkNGI2YzVmODcwMTIzNDU2Nzg5MGFiY2RlZjEwMjM0NTY3ODkwYWJjZGVmMTIzNDU2Nzg5MGFiY2RlZjEyMzQ1Njc4OTBhYmNkZWY=

# ============================================
# CONFIGURACI�N DEL SERVIDOR
# ============================================
# Puerto diferente al Backend de Gesti�n (que usa 8080)
server.address=0.0.0.0
server.port=8081
# Context path para coincidir con el path de Dockploy
server.servlet.context-path=/servicios

# Configuraci�n de timeout y conexiones
server.tomcat.connection-timeout=20000
server.tomcat.keep-alive-timeout=20000
server.tomcat.max-connections=8192
server.tomcat.threads.max=200
server.tomcat.threads.min-spare=10

# ============================================
# CONFIGURACI�N VIRTUAL THREADS (Java 21+)
# ============================================
# Habilitar Virtual Threads para mejor rendimiento en operaciones I/O bound
spring.threads.virtual.enabled=true

# Manejo de errores
server.error.include-message=always
server.error.include-binding-errors=always
server.error.include-stacktrace=on_param
server.error.include-exception=false

# ============================================
# CONFIGURACI�N BACKEND DE GESTI�N
# ============================================
backend.gestion.url=http://154.38.186.149:8080/gestion

# ============================================
# CONFIGURACI�N DE LOGS
# ============================================
logging.level.root=INFO
logging.level.com.nettalco.backendservicios=INFO
logging.level.org.springframework.security=INFO
